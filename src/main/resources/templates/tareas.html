<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Tablero de Tareas</title>
    <link rel="stylesheet" th:href="@{/style.css}">
</head>
<body>
<header>
    <svg class="header-bg" viewBox="0 0 100 20" preserveAspectRatio="none">
        <path d="M0 20 L100 0 L100 20 Z"/>
    </svg>
    <h1>Tablero de Tareas</h1>
    <form th:action="@{/agregar}" method="post" class="add-form">
        <input type="text" name="descripcion" placeholder="Nueva tarea" required/>
        <button type="submit" class="icon-button">+</button>
    </form>
</header>
<div class="board">
    <div class="column">
        <h2>Pendientes</h2>
        <div th:each="tarea : ${pendientes}" class="tarea">
            <form th:action="@{/completar/{id}(id=${tarea.id})}" method="post" class="tarea-form">
                <input type="checkbox" onchange="this.form.submit()"/>
                <span th:text="${tarea.descripcion}"></span>
            </form>
            <form th:action="@{/eliminar/{id}(id=${tarea.id})}" method="post">
                <button type="submit">Eliminar</button>
            </form>
        </div>
    </div>
    <div class="column">
        <h2>Completadas</h2>
        <div th:each="tarea : ${completadas}" class="tarea">
            <form th:action="@{/incompletar/{id}(id=${tarea.id})}" method="post" class="tarea-form">
                <input type="checkbox" checked onchange="this.form.submit()"/>
                <span th:text="${tarea.descripcion}"></span>
            </form>
            <form th:action="@{/eliminar/{id}(id=${tarea.id})}" method="post">
                <button type="submit">Eliminar</button>
            </form>
        </div>
    </div>
</div>
</body>
</html>
